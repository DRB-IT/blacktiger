<!DOCTYPE html>
<html lang="da" class="js history websockets audio">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>TeleSal</title>
        <meta name="robots" content="none"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href="assets/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="assets/css/bootstrap-responsive.min.css" rel="stylesheet"/>
        <link href="assets/css/Basic.css" rel="stylesheet"/>
        <link rel="icon" href="assets/img/favicon.ico" type="image/x-icon"/>
        <link rel="shortcut icon" href="assets/img/favicon.ico" type="image/x-icon"/>
        <link rel="apple-touch-icon-precomposed" href="assets/img/tslogo57.png"/>
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/img/tslogo72.png"/>
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/img/tslogo114.png"/>
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/img/tslogo144.png"/>
        <meta name="msapplication-TileImage" content="assets/img/tslogo144-ms.png"/>
        <meta name="msapplication-TileColor" content="#f89406"/>
        <!--script async="" src="assets/js/analytics.js"></script-->
        <script type="text/javascript" src="assets/js/angular/angular.js"></script>
        <script type="text/javascript" src="assets/js/angular/angular-route.js"></script>
        <script type="text/javascript" src="assets/js/angular/angular-translate.js"></script>
        <script type="text/javascript" src="assets/js/angular/angular-translate-loader-static-files.min.js"></script>
        <script type="text/javascript" src="assets/js/angular/i18n/angular-locale_da-dk.js"></script>
        <script type="text/javascript" src="assets/js/angular/i18n/angular-locale_da.js"></script>
        <script type="text/javascript" src="assets/js/jquery-1.10.2.min.js"></script>
        <script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="assets/js/app.js"></script>
        <script type="text/javascript" src="assets/js/blacktiger.js"></script>
        <script type="text/javascript" src="assets/js/songmanager-1.0.js"></script>
    </head>
    <body>
        <div class="container-fluid">
            <div class="row-fluid" id="menuMain">
                <div class="span12">
                    <div class="navbar navbar-static-top navbar-inverse">
                        <div class="navbar-inner">
                            <span class="brand"><img src="assets/img/tslogo40.png" alt="TeleSal logo"/><span class="hidden-phone"> {{'SYSTEM.NAME' | translate }}</span></span>
                            <ul class="nav" data-ng-controller="MenuCtrl">
                                <li data-ng-repeat="link in links" data-ng-class="(link.url.substring(1) == location.path() && 'active')">
                                    <a href="{{ link.url }}">{{ link.name | translate }}</a>
                                </li>
                            </ul>

                            <ul class="nav pull-right" style="margin-right: -10px;">
                                <li data-ng-controller="RoomCtrl" >{{currentRoom}}</li>

                                <li><a href="j_spring_security_logout">Log ud</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row-fluid">
                <div class="span12" id="MusicContainer">
                    <div id="songplayer" data-ng-controller="MusicCtrl" ng-show="isSupported()">
                        <span class="pull-left" id="songplayer-name">Musik</span>
                        <div class="pull-left input-append" id="songplayer-controls">
                            <select ng-disabled="state=='playing'" class="pull-left input-mini" ng-model="currentSong" id="songplayer-number"></select>
                            <button ng-click="play()" class="btn btn-mini" ng-disabled="state=='playing'"><i class="icon-play"></i></button>
                            <button ng-click="stop()" class="btn btn-mini" ng-disabled="state!='playing'"><i class="icon-stop"></i></button>
                            <button ng-click="toggleRandom()" class="btn btn-mini" ng-class="{disabled: isRandom()}"><i class="icon-random"></i></button>
                        </div>
                        <div id="songplayer-title" class="pull-right"></div>
                        <div id="songplayer-progress" class="progress">
                            <div class="bar" ng-style="getProgressStyle()"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row-fluid" id="ContentContainer" ng-view></div>
            <div class="row-fluid">
                <div class="span12" id="FooterContainer">&copy; {{ 'SYSTEM.COPYRIGHTHOLDER' | translate }}</div>
            </div>
        </div>

        <!--script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41046406-1', 'telesal.dk');
  ga('send', 'pageview');

</script-->
        <script>


            for (var i = 1; i <= SongManager.getNoOfSongs(); i++) {
                $('#songplayer-number').append(new Option(i, i));
            }

            function showError(message) {
                $('#error-dialog').text(message);
                $('#error-dialog').removeClass('hide');

            }

            $(window).on('beforeunload', function() {
                if (SongManager.getState() == 'playing') {
                    return 'Leaving the page will stop the music.';
                }

            });

            var mocked = false;
            if (window.location.search === '?mock') {
                var mocked = true;
                document.write("<"+"script type='text/javascript' src='assets/js/angular/angular-mocks.js'><" + "/script>");
                /*var fileref = document.createElement('script');
                fileref.setAttribute("type", "text/javascript");
                fileref.setAttribute("src", "assets/js/angular/angular-mocks.js");
                document.getElementsByTagName("head")[0].appendChild(fileref);*/
            }
            angular.element(document).ready(function() {
                angular.bootstrap(document, ['blacktiger-app' + (mocked ? '-mocked' : '')]);
            });

        </script>
    </body>
</html>