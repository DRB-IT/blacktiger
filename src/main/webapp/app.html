<!DOCTYPE html>
<html lang="da" class="js history websockets audio">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="robots" content="noindex, nofollow" />
        <title>TeleSal</title>
        <link href="assets/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="assets/css/basic.css" rel="stylesheet"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="shortcut icon" href="assets/img/favicon.ico" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/img/tslogo144.png" />
        <link rel="icon" href="assets/img/icon_favicon.gif" />
        <meta name="msapplication-TileImage" content="assets/img/tslogo144-ms.png" />
        <meta name="msapplication-TileColor" content="#f89406" />
        <!--script async="" src="assets/js/analytics.js"></script-->
        <script type="text/javascript" src="assets/js/angular/angular.js"></script>
        <script type="text/javascript" src="assets/js/angular/angular-route.js"></script>
        <script type="text/javascript" src="assets/js/angular/angular-translate.js"></script>
        <script type="text/javascript" src="assets/js/angular/angular-translate-loader-static-files.min.js"></script>
        <script type="text/javascript" src="assets/js/angular/i18n/angular-locale_da-dk.js"></script>
        <script type="text/javascript" src="assets/js/angular/i18n/angular-locale_da.js"></script>
        <script type="text/javascript" src="assets/js/jquery-1.10.2.min.js"></script>
        <script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="assets/js/app.js"></script>
        <script type="text/javascript" src="assets/js/blacktiger.js"></script>
        <script type="text/javascript" src="assets/js/songmanager-1.0.js"></script>
    </head>
    <body>
        <div class="container-fluid-header">
            <span class="brand"><img src="assets/img/tslogo50.png" alt="{{'SYSTEM.NAME' | translate }} logo" /><span>{{'SYSTEM.NAME' | translate }}</span></span>
            <ul class="menu-bar" data-ng-controller="MenuCtrl">
                <li data-ng-repeat="link in links" data-ng-class="(link.url.substring(1) == location.path() && 'active')"><a href="{{ link.url }}" title="{{ link.name | translate }}">{{ link.name | translate }}</a></li>
            </ul>
            <ul class="menu-bar pull-right">
                <li><a href="j_spring_security_logout" title="Log ud"><span class="glyphicon glyphicon-remove-sign"></span></a></li>
            </ul>
        </div>
        <div class="container-fluid-content">
            <div class="row">
                <div class="col-md-12" id="MusicContainer">
                    <div id="songplayer" data-ng-controller="MusicCtrl" ng-show="isSupported()">
                        <span class="pull-left" id="songplayer-name"><span class="glyphicon glyphicon-music"></span></span>
                        <div class="pull-left" id="songplayer-controls">
                            <select ng-disabled="state=='playing'" class="pull-left form-control" ng-model="currentSong" id="songplayer-number"></select>
                            <div class="btn-group btn-group-xs">
                                <button ng-click="play()" class="btn btn-default" ng-disabled="state=='playing'"><span class="glyphicon glyphicon-play"></span></button>
                                <button ng-click="stop()" class="btn btn-default" ng-disabled="state!='playing'"><span class="glyphicon glyphicon-stop"></span></button>
                                <button ng-click="toggleRandom()" class="btn btn-default" ng-class="{disabled: isRandom()}"><span class="glyphicon glyphicon-random"></span></button>
                            </div>
                        </div>
                        <div id="songplayer-title" class="pull-right"></div>
                        <div id="songplayer-progress" class="progress">
                            <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="getProgressStyle()"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-10 col-sm-offset-1" id="ContentContainer" ng-view>
                </div>
            </div>
            <div class="row" id="FooterContainer">
                <div class="col-xs-9"><small data-ng-controller="RoomCtrl">{{currentRoom}}</small></div>
                <div class="col-xs-3 text-right"><small class="text-muted">{{ 'SYSTEM.COPYRIGHTHOLDER' | translate }}</small></div>
            </div>
        </div>

        <!--script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41046406-1', 'telesal.dk');
  ga('send', 'pageview');

</script-->
        <script>


            for (var i = 1; i <= SongManager.getNoOfSongs(); i++) {
                $('#songplayer-number').append(new Option(i, i));
            }

            function showError(message) {
                $('#error-dialog').text(message);
                $('#error-dialog').removeClass('hide');

            }

            $(window).on('beforeunload', function() {
                if (SongManager.getState() == 'playing') {
                    return 'Leaving the page will stop the music.';
                }

            });

            var mocked = false;
            if (window.location.search === '?mock') {
                var mocked = true;
                document.write("<"+"script type='text/javascript' src='assets/js/angular/angular-mocks.js'><" + "/script>");
                /*var fileref = document.createElement('script');
                fileref.setAttribute("type", "text/javascript");
                fileref.setAttribute("src", "assets/js/angular/angular-mocks.js");
                document.getElementsByTagName("head")[0].appendChild(fileref);*/
            }
            angular.element(document).ready(function() {
                angular.bootstrap(document, ['blacktiger-app' + (mocked ? '-mocked' : '')]);
            });

        </script>
    </body>
</html>
